<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Property Listing</title>
    <link rel="stylesheet" href="propertylisting.css">
</head>
<body>
    <section id="property-listings">
        <div class="container">
            <h2>Property Listings</h2>
            <div id="properties"></div>
        </div>
    </section>
    <footer>
        <div class="container">
            <p>&copy; 2024 Namastay. All rights reserved.</p>
        </div>
    </footer>
    
    <script>
        document.addEventListener("DOMContentLoaded", () => {
            const propertiesContainer = document.getElementById("properties");
            const properties = JSON.parse(localStorage.getItem('searchResults'));

            if (properties && properties.length > 0) {
                properties.forEach(property => {
                    const propertyDiv = document.createElement("div");
                    propertyDiv.classList.add("property");
                    propertyDiv.innerHTML = `
                        <h3>${property.name}</h3>
                        <div class="property-details">
                            <p>Location: ${property.location}</p>
                            <p>Price: $${property.price}</p>
                            <p>${property.description}</p>
                        </div>
                        <img src="${property.imageUrl}" alt="${property.name}">
                    `;
                    propertyDiv.addEventListener("click", () => {
                        localStorage.setItem('selectedProperty', JSON.stringify(property));
                        window.location.href = "booking.html";
                    });
                    propertiesContainer.appendChild(propertyDiv);
                });
            } else {
                propertiesContainer.innerHTML = "<p>No properties found.</p>";
            }
        });
    </script>
</body>
</html>
